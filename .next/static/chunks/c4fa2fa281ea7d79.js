(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,43531,e=>{"use strict";var a=e.i(71645);let t=e=>{let a=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase());return a.charAt(0).toUpperCase()+a.slice(1)},r=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:c,...d},m)=>(0,a.createElement)("svg",{ref:m,...s,width:t,height:t,stroke:e,strokeWidth:n?24*Number(l)/Number(t):l,className:r("lucide",o),...!i&&!(e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),n=(e,s)=>{let n=(0,a.forwardRef)(({className:n,...o},i)=>(0,a.createElement)(l,{ref:i,iconNode:s,className:r(`lucide-${t(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...o}));return n.displayName=t(e),n};e.s(["default",()=>n],75254);let o=n("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>o],43531)},31278,37727,e=>{"use strict";var a=e.i(75254);let t=(0,a.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278);let r=(0,a.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>r],37727)},47800,e=>{"use strict";e.s(["COLUMN_MAPPING",0,{namobj:"Nama Objek",jnsrpr:"Jenis Rencana Pola Ruang",wadmkc:"Kecamatan",wadmkd:"Desa / Kelurahan",kkop_1:"Kawasan Keselamatan Operasi Penerbangan",kp2b_2:"Kawasan Pertanian Pangan Berkelanjutan",lp2b_2:"Lahan Pertanian Pangan Berkelanjutan",krb_03:"Kawasan Rawan Bencana",tod_04:"Kawasan Berorientasi Transit",teb_05:"Tempat Evakuasi Bencana",puslit:"Pusat Penelitian",cagbud:"Kawasan Cagar Budaya",resair:"Kawasan Resapan Air",ksmpdn:"Kawasan Sempadan",hankam:"Kawasan Pertahanan dan Keamanan",kkarst:"Kawasan Karst",ptbgmb:"Kawasan Pertambangan Mineral dan Batubara",mgrsat:"Kawasan Migrasi Satwa",rdbumi:"Ruang Dalam Bumi",tpz_00:"Teknik Pengaturan Zonasi",remark:"Catatan",luasha:"Luas Zona"},"INITIAL_LAYER_GROUPS",0,[{id:"group-basemap",name:"Base Maps",icon:"Map",layers:[{id:"base-arcgis-street",name:"ArcGIS Street",visible:!1,opacity:1,type:"tile",source:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"},{id:"base-arcgis-sat",name:"ArcGIS Satellite",visible:!1,opacity:1,type:"tile",source:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"},{id:"base-google-street",name:"Google Street",visible:!1,opacity:1,type:"tile",source:"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}"},{id:"base-google-sat",name:"Google Satellite",visible:!1,opacity:1,type:"tile",source:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"},{id:"base-carto-dark",name:"Dark Carto",visible:!0,opacity:1,type:"tile",source:"https://basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"},{id:"base-carto-light",name:"Light Carto",visible:!1,opacity:1,type:"tile",source:"https://basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png"}]},{id:"group-rtrw",name:"RTRW Belitung",icon:"Globe",layers:[{id:"rtrw-pola",name:"Pola Ruang",visible:!0,opacity:.6,type:"mvt",source:"/api/tiles/rtrw/{z}/{x}/{y}",color:"#10b981",geometryType:"Polygon"}]},{id:"group-badau",name:"RDTR Badau",icon:"Hexagon",layers:[{id:"badau-pola",name:"Pola Ruang",visible:!1,opacity:.7,type:"mvt",source:"/api/tiles/badau/{z}/{x}/{y}",color:"#f59e0b",geometryType:"Polygon"},{id:"badau-infra",name:"Infrastruktur",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/badau-infra/{z}/{x}/{y}",color:"#ef4444",geometryType:"Point",apiKey:"badau-infra"},{id:"badau-net",name:"Jaringan",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/badau-net/{z}/{x}/{y}",color:"#3b82f6",geometryType:"LineString",apiKey:"badau-net"}]},{id:"group-geopark",name:"RDTR Geopark",icon:"Mountain",layers:[{id:"geo-pola",name:"Pola Ruang",visible:!1,opacity:.7,type:"mvt",source:"/api/tiles/geopark/{z}/{x}/{y}",color:"#8b5cf6",geometryType:"Polygon",apiKey:"geopark"},{id:"geo-infra",name:"Infrastruktur",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/geopark-infra/{z}/{x}/{y}",color:"#ec4899",geometryType:"Point",apiKey:"geopark-infra"},{id:"geo-net",name:"Jaringan",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/geopark-net/{z}/{x}/{y}",color:"#06b6d4",geometryType:"LineString",apiKey:"geopark-net"}]},{id:"group-tanjung",name:"RDTR Tanjung Kelayang",icon:"Anchor",layers:[{id:"tj-pola",name:"Pola Ruang",visible:!1,opacity:.7,type:"mvt",source:"/api/tiles/tanjung/{z}/{x}/{y}",color:"#14b8a6",geometryType:"Polygon",apiKey:"tanjung"},{id:"tj-infra",name:"Infrastruktur",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/tanjung-infra/{z}/{x}/{y}",color:"#f97316",geometryType:"Point",apiKey:"tanjung-infra"},{id:"tj-net",name:"Jaringan",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/tanjung-net/{z}/{x}/{y}",color:"#6366f1",geometryType:"LineString",apiKey:"tanjung-net"}]}],"LINE_STYLE",0,{"Jalan Kolektor Primer":{color:"#FF8C00",width:3},"Jalan Kolektor Sekunder":{color:"#FFC800",width:1.8},"Jalan Lokal Primer":{color:"#9B5AFF",width:1.7},"Jalan Lokal Sekunder":{color:"#B2B2FF",width:1.5},"Jalan Lingkungan Primer":{color:"#828282",width:1},"Jalan Lingkungan Sekunder":{color:"#9C9C9C",width:.8},"Jalan Khusus":{color:"#4E4E4E",width:.5},"Jalur Sepeda":{color:"#33B300",width:1.8,dash:[6,6]},"Jalur Evakuasi Bencana":{color:"#FF00FF",width:2,dash:[8,8]},"Jaringan Pejalan Kaki":{color:"#000000",width:1.5,dash:[4,4]},"Jaringan Drainase Primer":{color:"#004CA8",width:2.5},"Jaringan Drainase Sekunder":{color:"#FF0000",width:2},"Jaringan Drainase Tersier":{color:"#A900E6",width:1.5},"Pipa Induk":{color:"#824600",width:1.5},"Pipa Retikulasi":{color:"#BE7800",width:1},"Jaringan Distribusi Pembagi":{color:"#005CE6",width:1.4},"Jaringan Transmisi Air Minum":{color:"#00A9E6",width:1,dash:[4,4]},"Jaringan Transmisi Air Baku":{color:"#004DA8",width:1,dash:[6,4]},"Jaringan Serat Optik":{color:"#3CAA00",width:1.4,dash:[3,6]},"Telepon Fixed Line":{color:"#3CAA00",width:1.4},"Saluran Udara Tegangan Rendah (SUTR)":{color:"#FFD21E",width:2,dash:[10,4]},"Saluran Udara Tegangan Menengah (SUTM)":{color:"#FFD21E",width:2.5,dash:[12,4]},"Pengaman Pantai":{color:"#005AE6",width:2.5,dash:[2,6]}},"polaRuangColorSet",0,[{namobj:"Badan Air",color:"#4A90E2"},{namobj:"Badan Jalan",color:"#eb1e1e"},{namobj:"Cagar Budaya",color:"#A0527B"},{namobj:"Ekosistem Mangrove",color:"#3A7255"},{namobj:"Hutan Lindung",color:"#1F5E2E"},{namobj:"Hutan Produksi Tetap",color:"#2E7D32"},{namobj:"Hutan Produksi yang dapat Dikonversi",color:"#6BAF56"},{namobj:"Instalasi Pengolahan Air Limbah (IPAL)",color:"#ffe687"},{namobj:"Instalasi Pengolahan Air Minum (IPAM)",color:"#ffc869"},{namobj:"Jalur Hijau",color:"#0f9100"},{namobj:"Kawasan Peruntukan Industri",color:"#7D3C98"},{namobj:"Keunikan Batuan dan Fosil",color:"#A76D55"},{namobj:"Pariwisata",color:"#F7C445"},{namobj:"Pemakaman",color:"#5aff00"},{namobj:"Pengelolaan Persampahan",color:"#d79b37"},{namobj:"Perdagangan dan Jasa Skala Kota",color:"#ff6464"},{namobj:"Perdagangan dan Jasa Skala SWP",color:"#ffa5a5"},{namobj:"Perdagangan dan Jasa Skala WP",color:"#ff8282"},{namobj:"Perikanan Tangkap",color:"#4AAECF"},{namobj:"Perkantoran",color:"#9b9b9b"},{namobj:"Perkebunan",color:"#C8A84A"},{namobj:"Perlindungan Setempat",color:"#89C583"},{namobj:"Pertahanan dan Keamanan",color:"#4C4C4C"},{namobj:"Pertambangan Mineral Bukan Logam",color:"#C97E4B"},{namobj:"Pertambangan Mineral Logam",color:"#9A4F2E"},{namobj:"Perumahan Kepadatan Rendah",color:"#fffa4b"},{namobj:"Perumahan Kepadatan Sedang",color:"#fff005"},{namobj:"Perumahan Kepadatan Tinggi",color:"#ffdc00"},{namobj:"Rimba Kota",color:"#37550a"},{namobj:"SPU Skala Kecamatan",color:"#9b329b"},{namobj:"SPU Skala Kelurahan",color:"#b94bb9"},{namobj:"SPU Skala Kota",color:"#7d197d"},{namobj:"Taman Kecamatan",color:"#468700"},{namobj:"Taman Kelurahan",color:"#4ba500"},{namobj:"Taman Kota",color:"#416900"},{namobj:"Taman RW",color:"#50c300"},{namobj:"Tanaman Pangan",color:"#E6D14A"},{namobj:"Transportasi",color:"#566573"},{namobj:"Campuran Intensitas Menengah/Sedang",color:"#f0731e"},{namobj:"Campuran Intensitas Tinggi",color:"#f05500"},{namobj:"Hortikultura",color:"#e6ff4b"},{namobj:"Pergudangan",color:"#373737"},{namobj:"Kawasan Keunikan Bentang Alam",color:"#3E8F6E"},{namobj:"Kawasan Pembangkitan Tenaga Listrik",color:"#8E94A4"},{namobj:"Kawasan Perikanan Budi Daya",color:"#67C7D1"},{namobj:"Kawasan Permukiman Perdesaan",color:"#F2989B"},{namobj:"Kawasan Permukiman Perkotaan",color:"#D9534F"},{namobj:"Kawasan Peruntukan Pertambangan Batuan",color:"#B86A3A"},{namobj:"Kawasan Suaka Alam",color:"#2F6B4A"},{namobj:"Taman Hutan Raya",color:"#4A8F39"},{namobj:"Kawasan Pertambangan Mineral Bukan Logam",color:"#C97E4B"},{namobj:"Kawasan Peruntukan Pertambangan Batuan",color:"#B86A3A"},{namobj:"Kawasan Pertambangan Mineral Logam",color:"#9A4F2E"},{namobj:"Kawasan Keunikan Batuan dan Fosil",color:"#A76D55"},{namobj:"Kawasan Keunikan Bentang Alam",color:"#3E8F6E"},{namobj:"Kawasan Suaka Alam",color:"#2F6B4A"},{namobj:"Kawasan Hutan Produksi yang dapat Dikonversi",color:"#6BAF56"},{namobj:"Taman Hutan Raya (Tahura)",color:"#4A8F39"},{namobj:"Kawasan Perlindungan Setempat",color:"#89C583"},{namobj:"Kawasan Hutan Lindung",color:"#1F5E2E"},{namobj:"Kawasan Ekosistem Mangrove",color:"#3A7255"},{namobj:"Kawasan Hutan Produksi Tetap",color:"#2E7D32"},{namobj:"Kawasan Tanaman Pangan",color:"#E6D14A"},{namobj:"Kawasan Perkebunan",color:"#C8A84A"},{namobj:"Kawasan Perikanan Tangkap",color:"#4AAECF"},{namobj:"Kawasan Perikanan Budi Daya",color:"#67C7D1"},{namobj:"Kawasan Pariwisata",color:"#F7C445"},{namobj:"Kawasan Transportasi",color:"#566573"},{namobj:"Kawasan Pertahanan dan Keamanan",color:"#4C4C4C"},{namobj:"Kawasan Cagar Budaya",color:"#A0527B"}]])},64659,e=>{"use strict";let a=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>a],64659)},67585,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=e.r(32061);function s({reason:e,children:a}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}},9885,(e,a,t)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}});let r=e.r(43476),s=e.r(74080),l=e.r(63599),n=e.r(9885);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let a=l.workAsyncStorage.getStore();if(void 0===a)return null;let t=[];if(a.reactLoadableManifest&&e){let r=a.reactLoadableManifest;for(let a of e){if(!r[a])continue;let e=r[a].files;t.push(...e)}}return 0===t.length?null:(0,r.jsx)(r.Fragment,{children:t.map(e=>{let t=`${a.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style",nonce:a.nonce},e):((0,s.preload)(t,{as:"script",fetchPriority:"low",nonce:a.nonce}),null)})})}},69093,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let r=e.r(43476),s=e.r(71645),l=e.r(67585),n=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let a={...i,...e},t=(0,s.lazy)(()=>a.loader().then(o)),c=a.loading;function d(e){let o=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!a.ssr||!!a.loading,d=i?s.Suspense:s.Fragment,m=a.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:a.modules}):null,(0,r.jsx)(t,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(d,{...i?{fallback:o}:{},children:m})}return d.displayName="LoadableComponent",d}},70703,(e,a,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let r=e.r(63141)._(e.r(69093));function s(e,a){let t={};"function"==typeof e&&(t.loader=e);let s={...t,...a};return(0,r.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),a.exports=t.default)},52683,e=>{"use strict";var a=e.i(43476),t=e.i(75254);let r=(0,t.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),s=(0,t.default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var l=e.i(43531);let n=(0,t.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),o=(0,t.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),i=(0,t.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),c=(0,t.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var d=e.i(31278);let m=(0,t.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var u=e.i(37727),p=e.i(71645),h=e.i(47800);let x=({feature:e,onClose:t,onZoom:x,onExport:b})=>{let[y,g]=(0,p.useState)(null),[f,j]=(0,p.useState)(!1),[k,v]=(0,p.useState)(null);if((0,p.useEffect)(()=>{if(!e)return void g(null);let a=e.id||e.properties?.gid;a&&!("string"==typeof a&&a.includes("."))?(async()=>{j(!0);try{let t=e.layerId||"rtrw",r=await fetch(`/api/features/${t}/${a}`);if(r.ok){let e=await r.json();g(e)}else g(e.properties)}catch(a){console.error("Failed to fetch feature details",a),g(e.properties)}finally{j(!1)}})():g(e.properties)},[e]),!e)return null;let w=y||e.properties||{},N=w.namobj||w.name||w.NAMOBJ||`Feature #${e.id}`;return(0,a.jsxs)("div",{className:"absolute right-4 top-4 bottom-4 w-96 bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 shadow-2xl z-30 flex flex-col rounded-xl overflow-hidden animate-in slide-in-from-right-4 duration-300",children:[(0,a.jsxs)("div",{className:"px-5 py-4 border-b border-slate-700 bg-gradient-to-r from-slate-800/50 to-slate-900/50 flex justify-between items-start shrink-0",children:[(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary-400 mb-1.5",children:[(0,a.jsx)(m,{size:14}),(0,a.jsx)("span",{className:"text-[10px] font-bold tracking-widest uppercase text-primary-400/80",children:"Feature Information"})]}),(0,a.jsx)("h2",{className:"text-lg font-bold text-white font-mono truncate leading-tight",title:String(N),children:N}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsx)("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-800 px-2 py-0.5 rounded border border-slate-700 uppercase",children:e.geometryType||"Geometry"}),f&&(0,a.jsxs)("span",{className:"text-[10px] flex items-center gap-1 text-yellow-500",children:[(0,a.jsx)(d.Loader2,{size:10,className:"animate-spin"})," ","Syncing..."]})]})]}),(0,a.jsx)("button",{onClick:t,className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-400 hover:text-white transition-all active:scale-95",children:(0,a.jsx)(u.X,{size:18})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent relative",children:[f&&!y&&(0,a.jsxs)("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm flex flex-col items-center justify-center z-10 text-slate-400 gap-3",children:[(0,a.jsx)(d.Loader2,{className:"animate-spin text-primary-500",size:32}),(0,a.jsx)("span",{className:"text-xs",children:"Fetching detailed attributes..."})]}),(0,a.jsx)("div",{className:"divide-y divide-slate-800/50",children:Object.entries(w).map(([e,t])=>{let d;if(["geom","geometry","the_geom","bbox"].includes(e.toLowerCase()))return null;let m=h.COLUMN_MAPPING[e.toLowerCase()]||e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),u="object"==typeof t?JSON.stringify(t):String(t);return(0,a.jsxs)("div",{className:"group flex flex-col hover:bg-slate-800/30 transition-colors px-5 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 uppercase tracking-wide",children:[(d=e.toLowerCase()).includes("date")||d.includes("time")?(0,a.jsx)(s,{size:14,className:"text-blue-400"}):d.includes("id")||d.includes("code")||d.includes("gid")?(0,a.jsx)(c,{size:14,className:"text-orange-400"}):d.includes("name")||d.includes("obj")?(0,a.jsx)(i,{size:14,className:"text-emerald-400"}):d.includes("stat")||d.includes("val")||d.includes("luas")?(0,a.jsx)(r,{size:14,className:"text-purple-400"}):(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-500"}),m]}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(u),v(e),setTimeout(()=>v(null),2e3)},className:"opacity-0 group-hover:opacity-100 transition-opacity text-slate-500 hover:text-primary-400 p-1",title:"Copy value",children:k===e?(0,a.jsx)(l.Check,{size:12,className:"text-emerald-500"}):(0,a.jsx)(n,{size:12})})]}),(0,a.jsx)("div",{className:"pl-6 text-sm text-slate-200 font-mono break-words leading-relaxed",children:null==t||""===t?(0,a.jsx)("span",{className:"text-slate-600 italic text-xs",children:"Empty"}):"string"==typeof t&&(t.startsWith("http")||t.startsWith("www"))?(0,a.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300 hover:underline flex items-center gap-1 break-all",children:[t," ",(0,a.jsx)(o,{size:10})]}):"string"==typeof t&&!isNaN(Date.parse(t))&&t.length>10&&(e.toLowerCase().includes("date")||e.toLowerCase().includes("time"))?new Date(t).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"object"==typeof t?(0,a.jsx)("pre",{className:"text-[10px] bg-slate-950 p-2 rounded border border-slate-800 overflow-x-auto",children:JSON.stringify(t,null,2)}):String(t)})]},e)})}),!f&&0===Object.keys(w).length&&(0,a.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 p-8 text-center",children:[(0,a.jsx)(i,{size:32,className:"mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No properties found for this layer."})]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-slate-700 bg-slate-900/90 shrink-0 grid grid-cols-2 gap-3",children:[(0,a.jsxs)("button",{onClick:()=>x?.(e),className:"flex items-center justify-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 hover:text-white text-slate-300 text-xs font-bold rounded-lg border border-slate-600 transition-all active:scale-95",children:[(0,a.jsx)(m,{size:14})," ZOOM TO"]}),(0,a.jsxs)("button",{onClick:()=>b?.(e),className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white text-xs font-bold rounded-lg shadow-lg shadow-primary-900/20 hover:shadow-primary-900/40 transition-all active:scale-95 border border-transparent hover:border-primary-400",children:[(0,a.jsx)(o,{size:14})," EXPORT JSON"]})]})]})},b=(0,t.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var y=e.i(64659);let g=(0,t.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),f=(0,t.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),j=(0,t.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),k=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),v=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),w=(0,t.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),N=({groups:e,toggleLayer:t,updateOpacity:r})=>{let[s,l]=(0,p.useState)({"group-basemap":!1,"group-rtrw":!0});return(0,a.jsxs)("div",{className:"h-full w-80 bg-slate-900/95 backdrop-blur-sm border-r border-slate-700 flex flex-col animate-in slide-in-from-left duration-300",children:[(0,a.jsxs)("div",{className:"p-5 border-b border-slate-700 bg-slate-900",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-primary-400 tracking-tight flex items-center gap-2",children:[(0,a.jsx)(w,{size:20}),"DATA LAYERS"]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Manage visibility and opacity"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:e.map(e=>{let n="group-basemap"===e.id;return(0,a.jsxs)("div",{className:"border border-slate-700 rounded-lg overflow-hidden bg-slate-800/50",children:[(0,a.jsxs)("button",{onClick:()=>{var a;return a=e.id,void l(e=>({...e,[a]:!e[a]}))},className:"w-full flex items-center justify-between p-3 bg-slate-800 hover:bg-slate-750 transition-colors",children:[(0,a.jsx)("span",{className:"font-semibold text-sm text-slate-200",children:e.name}),s[e.id]?(0,a.jsx)(y.ChevronDown,{size:16,className:"text-slate-400"}):(0,a.jsx)(g,{size:16,className:"text-slate-400"})]}),s[e.id]&&(0,a.jsx)("div",{className:"p-3 space-y-3 bg-slate-900/30",children:e.layers.map(s=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>t(e.id,s.id),className:`transition-colors ${s.visible?"text-primary-500":"text-slate-600"}`,title:n?"Select Base Map":"Toggle Visibility",children:n?s.visible?(0,a.jsx)(b,{size:18}):(0,a.jsx)(f,{size:18}):s.visible?(0,a.jsx)(k,{size:18}):(0,a.jsx)(v,{size:18})}),(0,a.jsx)("span",{className:`text-sm ${s.visible?"text-slate-200":"text-slate-500"}`,children:s.name})]}),"vector"===s.type&&s.color&&(0,a.jsx)("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:s.color}}),s.apiKey&&(0,a.jsx)("a",{href:`/api/export/${s.apiKey}`,download:!0,className:"p-1.5 text-slate-500 hover:text-primary-400 hover:bg-slate-800 rounded transition-colors ml-1",title:"Download GeoJSON",children:(0,a.jsx)(j,{size:16})})]}),s.visible&&(0,a.jsxs)("div",{className:"flex items-center gap-2 pl-8 pr-1",children:[(0,a.jsx)("span",{className:"text-[10px] text-slate-500 uppercase",children:"Op"}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.opacity,onChange:a=>r(e.id,s.id,parseFloat(a.target.value)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-primary-500 hover:accent-primary-400"})]})]},s.id))})]},e.id)})})]})},P=(0,t.default)("bring-to-front",[["rect",{x:"8",y:"8",width:"8",height:"8",rx:"2",key:"yj20xf"}],["path",{d:"M4 10a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2",key:"1ltk23"}],["path",{d:"M14 20a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2",key:"1q24h9"}]]),A=(0,t.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),M=(0,t.default)("grid-2x2-plus",[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]]),C=(0,t.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),S=(0,t.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),K=({activeMode:e,setActiveMode:t})=>{let r=({mode:r,icon:s,tooltip:l})=>(0,a.jsxs)("button",{onClick:()=>{t(e===r?"none":r)},className:`
        relative group flex items-center justify-center w-16 h-16 transition-all duration-200
        ${e===r?"bg-slate-800 text-primary-400 border-l-4 border-primary-500":"text-slate-400 hover:text-white hover:bg-slate-800"}
      `,children:[(0,a.jsx)(s,{size:24,strokeWidth:1.5}),(0,a.jsx)("div",{className:"absolute left-16 ml-2 px-2 py-1 bg-slate-900 text-primary-200 text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity border border-slate-700 whitespace-nowrap z-50 shadow-lg font-sans",children:l})]});return(0,a.jsxs)("div",{className:"w-16 h-full bg-slate-900 border-r border-slate-800 flex flex-col items-center z-20 shadow-xl relative",children:[(0,a.jsx)("div",{className:"p-4 mb-4 text-primary-500",children:(0,a.jsx)(A,{size:28})}),(0,a.jsxs)("nav",{className:"flex-1 flex flex-col w-full gap-2",children:[(0,a.jsx)(r,{mode:"layers",icon:P,tooltip:"Layer Manager"}),(0,a.jsx)(r,{mode:"upload",icon:M,tooltip:"Import Data"}),(0,a.jsx)(r,{mode:"settings",icon:S,tooltip:"Map Settings"})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("button",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-slate-800 text-slate-500 hover:text-primary-400 transition-colors",children:(0,a.jsx)(C,{size:20})})})]})},z=(0,t.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),T=(0,t.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),E=(0,t.default)("file-type",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]]),L=(0,t.default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),B=({onUpload:e,close:t})=>{let[r,s]=(0,p.useState)(!1),[l,n]=(0,p.useState)(null),o=(0,p.useCallback)(e=>{e.preventDefault(),s(!0)},[]),i=(0,p.useCallback)(e=>{e.preventDefault(),s(!1)},[]),c=(0,p.useCallback)(e=>{e.preventDefault(),s(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&d(e.dataTransfer.files)},[]),d=a=>{n({type:"success",message:`Processing ${a.length} file(s)...`}),setTimeout(()=>{e(a),n(null)},1500)};return(0,a.jsxs)("div",{className:"h-full w-80 bg-slate-900/95 backdrop-blur-sm border-r border-slate-700 flex flex-col p-6 animate-in slide-in-from-left duration-300 relative",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:(0,a.jsx)(u.X,{size:20})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-primary-400 flex items-center gap-2",children:[(0,a.jsx)(L,{size:20}),"IMPORT DATA"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"Supported formats: .geojson, .kml, .shp (zip), .gdb (zip)"})]}),(0,a.jsxs)("div",{onDragOver:o,onDragLeave:i,onDrop:c,className:`
          border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all cursor-pointer
          ${r?"border-primary-500 bg-primary-900/20":"border-slate-600 bg-slate-800/30 hover:border-slate-400 hover:bg-slate-800/50"}
        `,children:[(0,a.jsx)("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",accept:".geojson,.json,.kml,.zip,.gdb",onChange:e=>{e.target.files&&e.target.files.length>0&&d(e.target.files)}}),(0,a.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center mb-4 text-primary-400",children:(0,a.jsx)(E,{size:24})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-300",children:"Click to upload or drag & drop"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Max file size: 50MB"})]})]}),l&&(0,a.jsxs)("div",{className:`mt-6 p-4 rounded-lg flex items-start gap-3 ${"success"===l.type?"bg-emerald-900/30 border border-emerald-800":"bg-red-900/30 border border-red-800"}`,children:["success"===l.type?(0,a.jsx)(T,{size:18,className:"text-emerald-500 mt-0.5"}):(0,a.jsx)(z,{size:18,className:"text-red-500 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:`text-sm font-medium ${"success"===l.type?"text-emerald-400":"text-red-400"}`,children:"success"===l.type?"Success":"Error"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:l.message})]})]}),(0,a.jsxs)("div",{className:"mt-auto pt-6 border-t border-slate-800",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Recently Imported"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded bg-slate-800/50 opacity-60",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),(0,a.jsx)("span",{className:"text-xs text-slate-400 font-mono",children:"parcels_v2.geojson"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded bg-slate-800/50 opacity-60",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-xs text-slate-400 font-mono",children:"study_area.kml"})]})]})]})]})},F=(0,e.i(70703).default)(()=>e.A(88614),{loadableGenerated:{modules:[97447]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center text-slate-500",children:"Loading Map..."})});e.s(["default",0,()=>{let[e,t]=(0,p.useState)("none"),[r,s]=(0,p.useState)(h.INITIAL_LAYER_GROUPS),[l,n]=(0,p.useState)(null),[o,i]=(0,p.useState)(null),[c,d]=(0,p.useState)(!1);(0,p.useEffect)(()=>{d(!0)},[]);let m=async e=>{i(e),t("none")};return c?(0,a.jsxs)("div",{className:"flex w-full h-screen bg-slate-950 text-slate-100 overflow-hidden font-sans",children:[(0,a.jsx)(K,{activeMode:e,setActiveMode:t}),(0,a.jsxs)("div",{className:`
        relative h-full transition-all duration-300 ease-in-out shadow-2xl z-20 flex
        ${"none"!==e?"w-80 opacity-100 border-r border-slate-800":"w-0 opacity-0 overflow-hidden border-none"}
      `,children:["layers"===e&&(0,a.jsx)(N,{groups:r,toggleLayer:(e,a)=>{s(t=>t.map(t=>t.id!==e?t:"group-basemap"===t.id?{...t,layers:t.layers.map(e=>({...e,visible:e.id===a}))}:{...t,layers:t.layers.map(e=>e.id===a?{...e,visible:!e.visible}:e)}))},updateOpacity:(e,a,t)=>{s(r=>r.map(r=>r.id!==e?r:{...r,layers:r.layers.map(e=>e.id===a?{...e,opacity:t}:e)}))}}),"upload"===e&&(0,a.jsx)(B,{onUpload:m,close:()=>t("none")}),"settings"===e&&(0,a.jsxs)("div",{className:"p-6 w-80 bg-slate-900 h-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-primary-400 mb-4",children:"SETTINGS"}),(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:[(0,a.jsx)("p",{className:"mb-2",children:"Unit System: Metric"}),(0,a.jsx)("p",{className:"mb-2",children:"Projection: EPSG:3857"}),(0,a.jsx)("p",{children:"Theme: GeoGreen Dark"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 relative z-0",children:[(0,a.jsx)(F,{layerGroups:r,onFeatureSelect:e=>{n(e)},filesToLoad:o}),l&&(0,a.jsx)(x,{feature:l,onClose:()=>n(null)})]})]}):null}],52683)},88614,e=>{e.v(a=>Promise.all(["static/chunks/c0fb113ed2ce333f.js"].map(a=>e.l(a))).then(()=>a(97447)))}]);