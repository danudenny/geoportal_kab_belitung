{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/hooks/useFileImporter.ts"],"sourcesContent":["import GeoJSON from 'ol/format/GeoJSON';\nimport { Vector as VectorLayer } from 'ol/layer';\nimport OlMap from 'ol/Map';\nimport { Vector as VectorSource } from 'ol/source';\nimport { Circle as CircleStyle, Fill, Stroke, Style } from 'ol/style';\nimport { useEffect, useRef } from 'react';\n\nexport const useFileImporter = (map: OlMap | null, filesToLoad: File[]) => {\n    // Keep track of layers associated with each file name\n    const fileLayersRef = useRef<Map<string, VectorLayer<VectorSource>>>(\n        new Map()\n    );\n\n    useEffect(() => {\n        if (!map) return;\n\n        const currentFileNames = new Set(filesToLoad.map((f) => f.name));\n        const activeLayers = fileLayersRef.current;\n\n        // 1. Remove layers for files that are no longer in the list\n        activeLayers.forEach((layer, fileName) => {\n            if (!currentFileNames.has(fileName)) {\n                console.log('Removing layer for:', fileName);\n                map.removeLayer(layer);\n                activeLayers.delete(fileName);\n            }\n        });\n\n        // 2. Add layers for new files\n        filesToLoad.forEach((file) => {\n            if (activeLayers.has(file.name)) return; // Already loaded\n\n            console.log('Processing new file:', file.name);\n\n            if (file.name.endsWith('.geojson') || file.name.endsWith('.json')) {\n                const reader = new FileReader();\n                reader.onload = (e) => {\n                    const result = e.target?.result;\n                    if (typeof result === 'string') {\n                        try {\n                            // Parse GeoJSON\n                            const features = new GeoJSON().readFeatures(\n                                JSON.parse(result),\n                                {\n                                    featureProjection: map\n                                        .getView()\n                                        .getProjection(),\n                                }\n                            );\n\n                            const vectorSource = new VectorSource({\n                                features: features,\n                            });\n\n                            // Create Layer with Style\n                            const vectorLayer = new VectorLayer({\n                                source: vectorSource,\n                                style: new Style({\n                                    stroke: new Stroke({\n                                        color: '#f59e0b',\n                                        width: 2,\n                                    }),\n                                    fill: new Fill({\n                                        color: 'rgba(245, 158, 11, 0.1)',\n                                    }),\n                                    image: new CircleStyle({\n                                        radius: 6,\n                                        fill: new Fill({ color: '#f59e0b' }),\n                                        stroke: new Stroke({\n                                            color: '#fff',\n                                            width: 2,\n                                        }),\n                                    }),\n                                }),\n                                properties: {\n                                    title: file.name, // Helpful for debugging\n                                },\n                            });\n\n                            // Add to Map and Track it\n                            map.addLayer(vectorLayer);\n                            activeLayers.set(file.name, vectorLayer);\n\n                            // Zoom to extent\n                            if (features.length > 0) {\n                                const extent = vectorSource.getExtent();\n                                map.getView().fit(extent, {\n                                    padding: [50, 50, 50, 50],\n                                    duration: 1000,\n                                });\n                            }\n                        } catch (err) {\n                            console.error('Error parsing GeoJSON', err);\n                        }\n                    }\n                };\n                reader.readAsText(file);\n            } else {\n                console.warn(\n                    `File ${file.name} is not a supported GeoJSON file.`\n                );\n            }\n        });\n    }, [filesToLoad, map]); // Re-run when file list changes\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;AAEO,MAAM,kBAAkB,CAAC,KAAmB;;IAC/C,sDAAsD;IACtD,MAAM,gBAAgB,IAAA,uKAAM,EACxB,IAAI;IAGR,IAAA,0KAAS;qCAAC;YACN,IAAI,CAAC,KAAK;YAEV,MAAM,mBAAmB,IAAI,IAAI,YAAY,GAAG;6CAAC,CAAC,IAAM,EAAE,IAAI;;YAC9D,MAAM,eAAe,cAAc,OAAO;YAE1C,4DAA4D;YAC5D,aAAa,OAAO;6CAAC,CAAC,OAAO;oBACzB,IAAI,CAAC,iBAAiB,GAAG,CAAC,WAAW;wBACjC,QAAQ,GAAG,CAAC,uBAAuB;wBACnC,IAAI,WAAW,CAAC;wBAChB,aAAa,MAAM,CAAC;oBACxB;gBACJ;;YAEA,8BAA8B;YAC9B,YAAY,OAAO;6CAAC,CAAC;oBACjB,IAAI,aAAa,GAAG,CAAC,KAAK,IAAI,GAAG,QAAQ,iBAAiB;oBAE1D,QAAQ,GAAG,CAAC,wBAAwB,KAAK,IAAI;oBAE7C,IAAI,KAAK,IAAI,CAAC,QAAQ,CAAC,eAAe,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU;wBAC/D,MAAM,SAAS,IAAI;wBACnB,OAAO,MAAM;yDAAG,CAAC;gCACb,MAAM,SAAS,EAAE,MAAM,EAAE;gCACzB,IAAI,OAAO,WAAW,UAAU;oCAC5B,IAAI;wCACA,gBAAgB;wCAChB,MAAM,WAAW,IAAI,qJAAO,GAAG,YAAY,CACvC,KAAK,KAAK,CAAC,SACX;4CACI,mBAAmB,IACd,OAAO,GACP,aAAa;wCACtB;wCAGJ,MAAM,eAAe,IAAI,wLAAY,CAAC;4CAClC,UAAU;wCACd;wCAEA,0BAA0B;wCAC1B,MAAM,cAAc,IAAI,uLAAW,CAAC;4CAChC,QAAQ;4CACR,OAAO,IAAI,oLAAK,CAAC;gDACb,QAAQ,IAAI,uLAAM,CAAC;oDACf,OAAO;oDACP,OAAO;gDACX;gDACA,MAAM,IAAI,iLAAI,CAAC;oDACX,OAAO;gDACX;gDACA,OAAO,IAAI,uLAAW,CAAC;oDACnB,QAAQ;oDACR,MAAM,IAAI,iLAAI,CAAC;wDAAE,OAAO;oDAAU;oDAClC,QAAQ,IAAI,uLAAM,CAAC;wDACf,OAAO;wDACP,OAAO;oDACX;gDACJ;4CACJ;4CACA,YAAY;gDACR,OAAO,KAAK,IAAI;4CACpB;wCACJ;wCAEA,0BAA0B;wCAC1B,IAAI,QAAQ,CAAC;wCACb,aAAa,GAAG,CAAC,KAAK,IAAI,EAAE;wCAE5B,iBAAiB;wCACjB,IAAI,SAAS,MAAM,GAAG,GAAG;4CACrB,MAAM,SAAS,aAAa,SAAS;4CACrC,IAAI,OAAO,GAAG,GAAG,CAAC,QAAQ;gDACtB,SAAS;oDAAC;oDAAI;oDAAI;oDAAI;iDAAG;gDACzB,UAAU;4CACd;wCACJ;oCACJ,EAAE,OAAO,KAAK;wCACV,QAAQ,KAAK,CAAC,yBAAyB;oCAC3C;gCACJ;4BACJ;;wBACA,OAAO,UAAU,CAAC;oBACtB,OAAO;wBACH,QAAQ,IAAI,CACR,CAAC,KAAK,EAAE,KAAK,IAAI,CAAC,iCAAiC,CAAC;oBAE5D;gBACJ;;QACJ;oCAAG;QAAC;QAAa;KAAI,GAAG,gCAAgC;AAC5D;GAjGa"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/hooks/useLayerManager.ts"],"sourcesContent":["import Feature from 'ol/Feature';\nimport MVT from 'ol/format/MVT';\nimport { LineString, Point, Polygon } from 'ol/geom';\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer';\nimport VectorTileLayer from 'ol/layer/VectorTile';\nimport Map from 'ol/Map';\nimport { fromLonLat } from 'ol/proj';\nimport { OSM, Vector as VectorSource, XYZ } from 'ol/source';\nimport VectorTileSource from 'ol/source/VectorTile';\nimport { Circle as CircleStyle, Fill, Stroke, Style } from 'ol/style';\nimport { useEffect, useRef } from 'react';\nimport { LINE_STYLE, POINT_STYLE, polaRuangColorSet } from '../constants';\nimport { LayerGroup } from '../types';\n\nexport const useLayerManager = (map: Map | null, layerGroups: LayerGroup[]) => {\n    const layerRefs = useRef<\n        Record<string, TileLayer<any> | VectorLayer<any> | VectorTileLayer>\n    >({});\n\n    useEffect(() => {\n        if (!map) return;\n\n        layerGroups.forEach((group: LayerGroup) => {\n            group.layers.forEach(\n                (layerConfig: import('../types').LayerConfig) => {\n                    let layer = layerRefs.current[layerConfig.id];\n\n                    // Create layer if it doesn't exist\n                    if (!layer) {\n                        if (layerConfig.type === 'tile') {\n                            let source;\n                            if (\n                                layerConfig.source &&\n                                layerConfig.source.startsWith('http')\n                            ) {\n                                source = new XYZ({\n                                    url: layerConfig.source,\n                                    maxZoom: 20,\n                                    crossOrigin: 'anonymous',\n                                });\n                            } else {\n                                source = new OSM();\n                            }\n\n                            layer = new TileLayer({\n                                source: source,\n                                visible: layerConfig.visible,\n                                opacity: layerConfig.opacity,\n                                zIndex: 0,\n                            });\n                        } else if (layerConfig.type === 'mvt') {\n                            const vectorTileSource = new VectorTileSource({\n                                format: new MVT(),\n                                url: layerConfig.source,\n                                projection: 'EPSG:3857',\n                            });\n\n                            layer = new VectorTileLayer({\n                                source: vectorTileSource,\n                                visible: layerConfig.visible,\n                                opacity: layerConfig.opacity,\n                                zIndex: 10,\n                                style: (feature) => {\n                                    const props = feature.getProperties();\n                                    const namobj = props.namobj || props.Namobj;\n\n                                    if (\n                                        layerConfig.geometryType ===\n                                        'LineString'\n                                    ) {\n                                        const styleConfig = (LINE_STYLE as any)[\n                                            namobj\n                                        ];\n\n                                        return new Style({\n                                            stroke: new Stroke({\n                                                color:\n                                                    styleConfig?.color ||\n                                                    layerConfig.color ||\n                                                    '#3b82f6',\n                                                width: styleConfig?.width || 2,\n                                                lineDash:\n                                                    styleConfig?.dash ||\n                                                    undefined,\n                                            }),\n                                        });\n                                    }\n\n                                    if (layerConfig.geometryType === 'Point') {\n                                        const styleConfig = (\n                                            POINT_STYLE as any\n                                        )[namobj];\n                                        const baseColor =\n                                            styleConfig?.color ||\n                                            layerConfig.color ||\n                                            '#ef4444';\n                                        const radius = styleConfig?.size\n                                            ? styleConfig.size / 2\n                                            : 5; // Convert diameter to radius\n\n                                        return new Style({\n                                            image: new CircleStyle({\n                                                radius: radius,\n                                                fill: new Fill({\n                                                    color: baseColor,\n                                                }),\n                                                stroke: new Stroke({\n                                                    color:\n                                                        styleConfig?.outlineColor ||\n                                                        '#ffffff',\n                                                    width: 1.5,\n                                                }),\n                                            }),\n                                        });\n                                    }\n\n                                    const colorEntry = polaRuangColorSet.find(\n                                        (entry: {\n                                            namobj: string;\n                                            color: string;\n                                        }) => entry.namobj === namobj\n                                    );\n                                    const color = colorEntry\n                                        ? colorEntry.color\n                                        : layerConfig.color || '#10b981';\n\n                                    return new Style({\n                                        stroke: new Stroke({\n                                            color: color,\n                                            width: 1,\n                                        }),\n                                        fill: new Fill({\n                                            color: `${color}80`, // 50% opacity\n                                        }),\n                                    });\n                                },\n                            });\n                        } else {\n                            // Vector Layer (Mock Data)\n                            const source = new VectorSource();\n\n                            // Generate mock features only if empty and visible\n                            if (\n                                layerConfig.visible &&\n                                source.getFeatures().length === 0\n                            ) {\n                                const count = 5;\n                                const centerLon = 107.63;\n                                const centerLat = -2.85;\n\n                                for (let i = 0; i < count; i++) {\n                                    const lon =\n                                        centerLon +\n                                        (Math.random() - 0.5) * 0.15;\n                                    const lat =\n                                        centerLat +\n                                        (Math.random() - 0.5) * 0.15;\n                                    let geometry;\n\n                                    if (\n                                        layerConfig.geometryType === 'Polygon'\n                                    ) {\n                                        const offset = 0.01;\n                                        geometry = new Polygon([\n                                            [\n                                                fromLonLat([lon, lat]),\n                                                fromLonLat([\n                                                    lon + offset,\n                                                    lat - offset,\n                                                ]),\n                                                fromLonLat([\n                                                    lon - offset,\n                                                    lat - offset,\n                                                ]),\n                                                fromLonLat([lon, lat]),\n                                            ],\n                                        ]);\n                                    } else if (\n                                        layerConfig.geometryType ===\n                                        'LineString'\n                                    ) {\n                                        geometry = new LineString([\n                                            fromLonLat([lon, lat]),\n                                            fromLonLat([\n                                                lon + 0.02,\n                                                lat + 0.01,\n                                            ]),\n                                            fromLonLat([\n                                                lon + 0.04,\n                                                lat - 0.01,\n                                            ]),\n                                        ]);\n                                    } else {\n                                        geometry = new Point(\n                                            fromLonLat([lon, lat])\n                                        );\n                                    }\n\n                                    const feat = new Feature({ geometry });\n                                    feat.set(\n                                        'name',\n                                        `${layerConfig.name} - Unit ${i + 1}`\n                                    );\n                                    feat.set(\n                                        'Type',\n                                        layerConfig.geometryType || 'Unknown'\n                                    );\n                                    feat.setId(`${layerConfig.id}-${i}`);\n                                    source.addFeature(feat);\n                                }\n                            }\n\n                            layer = new VectorLayer({\n                                source: source,\n                                visible: layerConfig.visible,\n                                opacity: layerConfig.opacity,\n                                zIndex: 10,\n                                style: new Style({\n                                    fill: new Fill({\n                                        color: layerConfig.color\n                                            ? `${layerConfig.color}40`\n                                            : 'rgba(16, 185, 129, 0.2)',\n                                    }),\n                                    stroke: new Stroke({\n                                        color: layerConfig.color || '#10b981',\n                                        width: 2,\n                                    }),\n                                    image: new CircleStyle({\n                                        radius: 5,\n                                        fill: new Fill({\n                                            color:\n                                                layerConfig.color || '#10b981',\n                                        }),\n                                        stroke: new Stroke({\n                                            color: '#fff',\n                                            width: 1,\n                                        }),\n                                    }),\n                                }),\n                            });\n                        }\n\n                        if (layerConfig.apiKey) {\n                            layer.set('apiKey', layerConfig.apiKey);\n                        }\n                        map.addLayer(layer);\n                        layerRefs.current[layerConfig.id] = layer;\n                    } else {\n                        layer.setVisible(layerConfig.visible);\n                        layer.setOpacity(layerConfig.opacity);\n                    }\n                }\n            );\n        });\n    }, [map, layerGroups]);\n\n    return layerRefs;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/hooks/useMapInit.ts"],"sourcesContent":["import Map from 'ol/Map';\nimport View from 'ol/View';\nimport { defaults as defaultControls } from 'ol/control';\nimport { fromLonLat } from 'ol/proj';\nimport { useEffect, useRef, useState } from 'react';\n\nexport const useMapInit = (\n    mapElement: React.RefObject<HTMLDivElement | null>\n) => {\n    const mapRef = useRef<Map | null>(null);\n    const [mapInstance, setMapInstance] = useState<Map | null>(null);\n\n    useEffect(() => {\n        if (!mapElement.current || mapRef.current) return;\n\n        // Center on Belitung\n        const initialView = new View({\n            center: fromLonLat([107.63, -2.85]),\n            zoom: 11,\n        });\n\n        const map = new Map({\n            target: mapElement.current,\n            layers: [], // Layers will be managed by other hooks\n            view: initialView,\n            controls: defaultControls({\n                zoom: false,\n                rotate: false,\n                attribution: false,\n            }),\n        });\n\n        mapRef.current = map;\n        setMapInstance(map);\n\n        return () => {\n            map.setTarget(undefined);\n            mapRef.current = null;\n            setMapInstance(null);\n        };\n    }, [mapElement]);\n\n    return { mapRef, mapInstance };\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,aAAa,CACtB;;IAEA,MAAM,SAAS,IAAA,uKAAM,EAAa;IAClC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAa;IAE3D,IAAA,0KAAS;gCAAC;YACN,IAAI,CAAC,WAAW,OAAO,IAAI,OAAO,OAAO,EAAE;YAE3C,qBAAqB;YACrB,MAAM,cAAc,IAAI,wIAAI,CAAC;gBACzB,QAAQ,IAAA,2JAAU,EAAC;oBAAC;oBAAQ,CAAC;iBAAK;gBAClC,MAAM;YACV;YAEA,MAAM,MAAM,IAAI,uIAAG,CAAC;gBAChB,QAAQ,WAAW,OAAO;gBAC1B,QAAQ,EAAE;gBACV,MAAM;gBACN,UAAU,IAAA,wJAAe,EAAC;oBACtB,MAAM;oBACN,QAAQ;oBACR,aAAa;gBACjB;YACJ;YAEA,OAAO,OAAO,GAAG;YACjB,eAAe;YAEf;wCAAO;oBACH,IAAI,SAAS,CAAC;oBACd,OAAO,OAAO,GAAG;oBACjB,eAAe;gBACnB;;QACJ;+BAAG;QAAC;KAAW;IAEf,OAAO;QAAE;QAAQ;IAAY;AACjC;GArCa"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/hooks/useMapInteractions.ts"],"sourcesContent":["import Feature from 'ol/Feature';\nimport { Geometry, LineString, MultiPolygon, Point, Polygon } from 'ol/geom';\nimport { Vector as VectorLayer } from 'ol/layer';\nimport Map from 'ol/Map';\nimport { Vector as VectorSource } from 'ol/source';\nimport { Circle as CircleStyle, Fill, Stroke, Style } from 'ol/style';\nimport { useEffect, useRef } from 'react';\nimport { SelectedFeature } from '../types';\n\nexport const useMapInteractions = (\n    map: Map | null,\n    onFeatureSelect: (feature: SelectedFeature | null) => void\n) => {\n    // Persistent source and layer for highlighting selection\n    const highlightSource = useRef(new VectorSource());\n    const highlightLayer = useRef(\n        new VectorLayer({\n            source: highlightSource.current,\n            style: new Style({\n                stroke: new Stroke({\n                    color: '#00ffff', // Cyan highlight\n                    width: 3,\n                }),\n                fill: new Fill({\n                    color: 'rgba(0, 255, 255, 0.2)',\n                }),\n                image: new CircleStyle({\n                    radius: 7,\n                    fill: new Fill({ color: '#00ffff' }),\n                    stroke: new Stroke({ color: '#fff', width: 2 }),\n                }),\n            }),\n            zIndex: 999, // Ensure it's on top\n        })\n    );\n\n    useEffect(() => {\n        if (!map) return;\n\n        // Add highlight layer to map\n        map.addLayer(highlightLayer.current);\n\n        const handleMapClick2 = (e: any) => {\n            // Reset highlight\n            highlightSource.current.clear();\n\n            const pixel = e.pixel;\n            const hit = map.forEachFeatureAtPixel(\n                pixel,\n                (feat, layer) => ({ feature: feat, layer }),\n                {\n                    hitTolerance: 5,\n                }\n            );\n\n            if (hit && hit.feature) {\n                const feature = hit.feature;\n                const layer = hit.layer;\n\n                // Get properties\n                const props = feature.getProperties();\n\n                // Ignore user location or specialized features if needed\n                if (props.isUserLocation) {\n                    onFeatureSelect(null);\n                    return;\n                }\n\n                // Handle Geometry for Highlight\n                const geometry = feature.getGeometry() as Geometry;\n                if (geometry) {\n                    // Clone feature for highlight layer\n                    let highlightFeature;\n\n                    // Check if geometry is observable (standard Geometry) or RenderFeature geometry\n                    // RenderFeature geometries often lack addEventListener (inherited from Observable)\n                    if (typeof geometry.addEventListener === 'function') {\n                        highlightFeature = new Feature({\n                            geometry: geometry,\n                        });\n                    } else {\n                        // It's likely a RenderFeature geometry. Reconstruct it.\n                        const type = geometry.getType();\n                        const flatCoords = (\n                            geometry as any\n                        ).getFlatCoordinates();\n                        const ends = (geometry as any).getEnds\n                            ? (geometry as any).getEnds()\n                            : undefined;\n\n                        let newGeom;\n\n                        // NOTE: For simplicity in this specific project context where we know it's mostly Polygons:\n                        if (type === 'Polygon') {\n                            newGeom = new Polygon(flatCoords, 'XY', ends);\n                        } else if (type === 'MultiPolygon') {\n                            newGeom = new MultiPolygon(flatCoords, 'XY', ends);\n                        } else if (type === 'Point') {\n                            newGeom = new Point(flatCoords, 'XY');\n                        } else if (type === 'LineString') {\n                            newGeom = new LineString(flatCoords, 'XY');\n                        }\n\n                        if (newGeom) {\n                            highlightFeature = new Feature({\n                                geometry: newGeom,\n                            });\n                        }\n                    }\n\n                    if (highlightFeature) {\n                        highlightSource.current.addFeature(highlightFeature);\n                    }\n                }\n\n                const { geometry: geom, ...cleanProps } = props;\n\n                const apiKey = layer?.get('apiKey') || 'unknown';\n\n                // Trigger select callback\n                onFeatureSelect({\n                    id:\n                        feature.getId()?.toString() ||\n                        Math.random().toString(36).substr(2, 9),\n                    properties: cleanProps,\n                    layerId: apiKey,\n                    geometryType: geometry?.getType() || 'Unknown',\n                });\n            } else {\n                onFeatureSelect(null);\n            }\n        };\n\n        map.on('singleclick', handleMapClick2);\n\n        return () => {\n            // Cleanup\n            map.un('singleclick', handleMapClick2);\n            map.removeLayer(highlightLayer.current);\n            highlightSource.current.clear();\n        };\n    }, [map, onFeatureSelect]);\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 589, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/hooks/useUserLocation.ts"],"sourcesContent":["import Feature from 'ol/Feature';\nimport { Point } from 'ol/geom';\nimport { Vector as VectorLayer } from 'ol/layer';\nimport Map from 'ol/Map';\nimport { fromLonLat } from 'ol/proj';\nimport { Vector as VectorSource } from 'ol/source';\nimport { Icon, Style } from 'ol/style';\nimport { useEffect, useRef, useState } from 'react';\n\nexport const useUserLocation = (map: Map | null) => {\n    const [isLocating, setIsLocating] = useState(false);\n    const userLocationLayerRef = useRef<VectorLayer<VectorSource> | null>(null);\n\n    useEffect(() => {\n        if (!map) return;\n\n        // Prevent adding multiple layers\n        if (userLocationLayerRef.current) return;\n\n        const userSource = new VectorSource();\n        const userLayer = new VectorLayer({\n            source: userSource,\n            zIndex: 999,\n        });\n        map.addLayer(userLayer);\n        userLocationLayerRef.current = userLayer;\n\n        return () => {\n            // Cleanup logic if needed, but layer removal on unmount usually handled by map disposal\n        };\n    }, [map]);\n\n    const handleLocate = () => {\n        if (isLocating) return;\n\n        if (!navigator.geolocation) {\n            alert('Geolocation is not supported by your browser');\n            return;\n        }\n\n        setIsLocating(true);\n\n        navigator.geolocation.getCurrentPosition(\n            (position) => {\n                setIsLocating(false);\n                const { latitude, longitude } = position.coords;\n                const coords = fromLonLat([longitude, latitude]);\n\n                const source = userLocationLayerRef.current?.getSource();\n                if (source) {\n                    source.clear();\n\n                    const svgString = `\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#10b981\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n                        <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"rgba(16, 185, 129, 0.2)\" stroke=\"#10b981\" stroke-width=\"2\" />\n                        <circle cx=\"12\" cy=\"12\" r=\"3\" fill=\"#10b981\" stroke=\"none\" />\n                        <path d=\"M5.5 19c1.5-3 5-4 6.5-4s5 1 6.5 4\" stroke=\"#10b981\" stroke-width=\"2\" />\n                    </svg>\n                `.trim();\n\n                    const iconFeature = new Feature({\n                        geometry: new Point(coords),\n                        name: 'My Location',\n                        isUserLocation: true,\n                    });\n\n                    const iconStyle = new Style({\n                        image: new Icon({\n                            src:\n                                'data:image/svg+xml;utf8,' +\n                                encodeURIComponent(svgString),\n                            scale: 1,\n                            anchor: [0.5, 0.5],\n                        }),\n                    });\n\n                    iconFeature.setStyle(iconStyle);\n                    source.addFeature(iconFeature);\n\n                    map?.getView().animate({\n                        center: coords,\n                        zoom: 14,\n                        duration: 1500,\n                    });\n                }\n            },\n            (error) => {\n                setIsLocating(false);\n                let errorMessage = 'An unknown error occurred.';\n                switch (error.code) {\n                    case 1:\n                        errorMessage =\n                            'User denied the request for Geolocation.';\n                        break;\n                    case 2:\n                        errorMessage = 'Location information is unavailable.';\n                        break;\n                    case 3:\n                        errorMessage =\n                            'The request to get user location timed out.';\n                        break;\n                }\n                console.error('Geolocation error:', errorMessage, error);\n                alert(`Unable to locate: ${errorMessage}`);\n            },\n            { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\n        );\n    };\n\n    return { isLocating, handleLocate };\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;;;;;;;;;AAEO,MAAM,kBAAkB,CAAC;;IAC5B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,uBAAuB,IAAA,uKAAM,EAAmC;IAEtE,IAAA,0KAAS;qCAAC;YACN,IAAI,CAAC,KAAK;YAEV,iCAAiC;YACjC,IAAI,qBAAqB,OAAO,EAAE;YAElC,MAAM,aAAa,IAAI,wLAAY;YACnC,MAAM,YAAY,IAAI,uLAAW,CAAC;gBAC9B,QAAQ;gBACR,QAAQ;YACZ;YACA,IAAI,QAAQ,CAAC;YACb,qBAAqB,OAAO,GAAG;YAE/B;6CAAO;gBACH,wFAAwF;gBAC5F;;QACJ;oCAAG;QAAC;KAAI;IAER,MAAM,eAAe;QACjB,IAAI,YAAY;QAEhB,IAAI,CAAC,UAAU,WAAW,EAAE;YACxB,MAAM;YACN;QACJ;QAEA,cAAc;QAEd,UAAU,WAAW,CAAC,kBAAkB,CACpC,CAAC;YACG,cAAc;YACd,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,SAAS,MAAM;YAC/C,MAAM,SAAS,IAAA,2JAAU,EAAC;gBAAC;gBAAW;aAAS;YAE/C,MAAM,SAAS,qBAAqB,OAAO,EAAE;YAC7C,IAAI,QAAQ;gBACR,OAAO,KAAK;gBAEZ,MAAM,YAAY,CAAC;;;;;;gBAMvB,CAAC,CAAC,IAAI;gBAEF,MAAM,cAAc,IAAI,2IAAO,CAAC;oBAC5B,UAAU,IAAI,mLAAK,CAAC;oBACpB,MAAM;oBACN,gBAAgB;gBACpB;gBAEA,MAAM,YAAY,IAAI,oLAAK,CAAC;oBACxB,OAAO,IAAI,iLAAI,CAAC;wBACZ,KACI,6BACA,mBAAmB;wBACvB,OAAO;wBACP,QAAQ;4BAAC;4BAAK;yBAAI;oBACtB;gBACJ;gBAEA,YAAY,QAAQ,CAAC;gBACrB,OAAO,UAAU,CAAC;gBAElB,KAAK,UAAU,QAAQ;oBACnB,QAAQ;oBACR,MAAM;oBACN,UAAU;gBACd;YACJ;QACJ,GACA,CAAC;YACG,cAAc;YACd,IAAI,eAAe;YACnB,OAAQ,MAAM,IAAI;gBACd,KAAK;oBACD,eACI;oBACJ;gBACJ,KAAK;oBACD,eAAe;oBACf;gBACJ,KAAK;oBACD,eACI;oBACJ;YACR;YACA,QAAQ,KAAK,CAAC,sBAAsB,cAAc;YAClD,MAAM,CAAC,kBAAkB,EAAE,cAAc;QAC7C,GACA;YAAE,oBAAoB;YAAM,SAAS;YAAO,YAAY;QAAE;IAElE;IAEA,OAAO;QAAE;QAAY;IAAa;AACtC;GArGa"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/components/LegendPanel.tsx"],"sourcesContent":["import {\n    BookOpen,\n    Check,\n    ChevronDown,\n    Layers,\n    Loader2,\n    Search,\n    X,\n} from 'lucide-react';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { polaRuangColorSet } from '../constants';\n\nconst LAYERS = [\n    { id: 'rtrw', label: 'RTRW Belitung' },\n    { id: 'badau', label: 'RDTR Badau' },\n    { id: 'geopark', label: 'RDTR Geopark' },\n    { id: 'tanjung', label: 'RDTR Tanjung Kelayang' },\n];\n\nconst LegendPanel = () => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [isLayerMenuOpen, setIsLayerMenuOpen] = useState(false); // Untuk custom dropdown\n    const [activeLayer, setActiveLayer] = useState('rtrw');\n    const [activeCategories, setActiveCategories] = useState<string[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    // Ref untuk click outside closing\n    const dropdownRef = useRef<HTMLDivElement>(null);\n\n    // Close dropdown click outside\n    useEffect(() => {\n        function handleClickOutside(event: MouseEvent) {\n            if (\n                dropdownRef.current &&\n                !dropdownRef.current.contains(event.target as Node)\n            ) {\n                setIsLayerMenuOpen(false);\n            }\n        }\n        document.addEventListener('mousedown', handleClickOutside);\n        return () =>\n            document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    useEffect(() => {\n        const fetchCategories = async () => {\n            setIsLoading(true);\n            try {\n                const res = await fetch(`/api/legend/${activeLayer}`);\n                if (res.ok) {\n                    const data = await res.json();\n                    setActiveCategories(data);\n                } else {\n                    setActiveCategories([]);\n                }\n            } catch (error) {\n                console.error('Failed to fetch legend categories:', error);\n                setActiveCategories([]);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        if (isOpen) {\n            fetchCategories();\n        }\n    }, [activeLayer, isOpen]);\n\n    // Filtering logic (API Categories + Local Search)\n    const displayItems = useMemo(() => {\n        let items = polaRuangColorSet.filter((item: { namobj: string }) =>\n            activeCategories.includes(item.namobj)\n        );\n\n        if (searchQuery) {\n            const lowerQuery = searchQuery.toLowerCase();\n            items = items.filter((item: { namobj: string }) =>\n                item.namobj.toLowerCase().includes(lowerQuery)\n            );\n        }\n\n        return items.sort((a: { namobj: string }, b: { namobj: string }) =>\n            a.namobj.localeCompare(b.namobj)\n        );\n    }, [activeCategories, searchQuery, polaRuangColorSet]);\n\n    const activeLayerLabel = LAYERS.find((l) => l.id === activeLayer)?.label;\n\n    return (\n        <div className=\"absolute bottom-6 right-20 z-20 flex flex-col items-end pointer-events-none\">\n            {/* Main Toggle Button (Pointer events auto to allow clicking) */}\n            <div className=\"pointer-events-auto\">\n                <button\n                    onClick={() => setIsOpen(!isOpen)}\n                    className={`h-12 w-12 md:w-auto md:px-4 rounded-md shadow-xl transition-all duration-300 flex items-center justify-center gap-3 border ${\n                        isOpen\n                            ? 'bg-primary-600 border-primary-500 text-white shadow-primary-900/20'\n                            : 'bg-slate-900/90 border-slate-700 text-slate-300 hover:bg-slate-800 hover:border-slate-600 backdrop-blur-sm'\n                    }`}\n                    title=\"Legenda Peta\"\n                >\n                    {isOpen ? <X size={20} /> : <BookOpen size={20} />}\n                    <span\n                        className={`text-xs font-bold uppercase hidden md:inline transition-all ${\n                            isOpen ? 'text-white' : 'text-slate-300'\n                        }`}\n                    >\n                        Legenda\n                    </span>\n                </button>\n            </div>\n\n            {/* Panel Content */}\n            {isOpen && (\n                <div className=\"pointer-events-auto mt-3 w-80 max-h-[65vh] flex flex-col bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 rounded-xl shadow-2xl animate-in slide-in-from-bottom-4 duration-300 origin-bottom-right overflow-hidden\">\n                    {/* Header Section */}\n                    <div className=\"p-4 border-b border-slate-800 bg-gradient-to-b from-slate-800/50 to-slate-900/50 space-y-3\">\n                        <div className=\"flex items-center gap-2 text-primary-400\">\n                            <Layers size={14} />\n                            <span className=\"text-[10px] font-bold uppercase tracking-widest\">\n                                Active Layer\n                            </span>\n                        </div>\n\n                        {/* Custom Dropdown for Layers */}\n                        <div className=\"relative\" ref={dropdownRef}>\n                            <button\n                                onClick={() =>\n                                    setIsLayerMenuOpen(!isLayerMenuOpen)\n                                }\n                                className=\"w-full flex items-center justify-between bg-slate-950/50 hover:bg-slate-950 border border-slate-700 hover:border-slate-600 text-slate-200 text-sm rounded-lg px-3 py-2.5 transition-all\"\n                            >\n                                <span className=\"font-medium truncate\">\n                                    {activeLayerLabel}\n                                </span>\n                                <ChevronDown\n                                    size={16}\n                                    className={`text-slate-400 transition-transform duration-200 ${\n                                        isLayerMenuOpen ? 'rotate-180' : ''\n                                    }`}\n                                />\n                            </button>\n\n                            {/* Dropdown Menu */}\n                            {isLayerMenuOpen && (\n                                <div className=\"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-lg shadow-xl z-50 overflow-hidden py-1 animate-in fade-in zoom-in-95 duration-100\">\n                                    {LAYERS.map((layer) => (\n                                        <button\n                                            key={layer.id}\n                                            onClick={() => {\n                                                setActiveLayer(layer.id);\n                                                setIsLayerMenuOpen(false);\n                                                setSearchQuery(''); // Reset search on layer change\n                                            }}\n                                            className=\"w-full text-left px-3 py-2 text-xs flex items-center justify-between hover:bg-slate-800 transition-colors text-slate-300 hover:text-white\"\n                                        >\n                                            {layer.label}\n                                            {activeLayer === layer.id && (\n                                                <Check\n                                                    size={14}\n                                                    className=\"text-primary-400\"\n                                                />\n                                            )}\n                                        </button>\n                                    ))}\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Search Input */}\n                        <div className=\"relative\">\n                            <Search\n                                size={14}\n                                className=\"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500\"\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Cari pola ruang...\"\n                                value={searchQuery}\n                                onChange={(e) => setSearchQuery(e.target.value)}\n                                className=\"w-full bg-slate-950/30 border border-slate-700/50 focus:border-primary-500/50 rounded-lg py-1.5 pl-9 pr-3 text-xs text-slate-200 placeholder:text-slate-600 focus:outline-none focus:ring-1 focus:ring-primary-500/20 transition-all\"\n                            />\n                        </div>\n                    </div>\n\n                    {/* Scrollable List */}\n                    <div className=\"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent\">\n                        {isLoading ? (\n                            <div className=\"h-40 flex flex-col items-center justify-center text-slate-500 gap-3\">\n                                <Loader2\n                                    size={24}\n                                    className=\"animate-spin text-primary-500\"\n                                />\n                                <span className=\"text-xs\">\n                                    Memuat data legenda...\n                                </span>\n                            </div>\n                        ) : displayItems.length === 0 ? (\n                            <div className=\"h-32 flex flex-col items-center justify-center text-slate-500 px-6 text-center\">\n                                <Search size={24} className=\"mb-2 opacity-20\" />\n                                <p className=\"text-xs italic\">\n                                    {searchQuery\n                                        ? `Tidak ada hasil untuk \"${searchQuery}\"`\n                                        : 'Tidak ada data kategori untuk layer ini.'}\n                                </p>\n                            </div>\n                        ) : (\n                            <div className=\"p-2 space-y-0.5\">\n                                {displayItems.map(\n                                    (item: any, index: number) => (\n                                        <div\n                                            key={index}\n                                            className=\"group flex items-start gap-3 p-2 hover:bg-white/5 rounded-lg transition-colors cursor-default\"\n                                        >\n                                            <div className=\"mt-0.5 relative shrink-0\">\n                                                <div\n                                                    className=\"w-3.5 h-3.5 rounded-full shadow-sm ring-2 ring-slate-800 group-hover:ring-slate-700 transition-all\"\n                                                    style={{\n                                                        backgroundColor:\n                                                            item.color,\n                                                    }}\n                                                />\n                                            </div>\n                                            <span className=\"text-xs text-slate-300 group-hover:text-slate-100 leading-snug transition-colors\">\n                                                {item.namobj}\n                                            </span>\n                                        </div>\n                                    )\n                                )}\n                            </div>\n                        )}\n                    </div>\n\n                    {/* Footer / Count */}\n                    <div className=\"p-2.5 border-t border-slate-800 bg-slate-900/80 text-[10px] text-slate-500 flex justify-between items-center\">\n                        <span>Total Kategori</span>\n                        <span className=\"bg-slate-800 px-1.5 py-0.5 rounded text-slate-400 font-mono\">\n                            {displayItems.length}\n                        </span>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default LegendPanel;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1145, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/components/map/MapAttribution.tsx"],"sourcesContent":["const MapAttribution: React.FC = () => {\n    return (\n        <div className=\"absolute bottom-1 left-2 text-[10px] text-slate-500 font-mono pointer-events-none z-10 opacity-70\">\n             OpenStreetMap contributors | GeoGreen Engine\n        </div>\n    );\n};\n\nexport default MapAttribution;\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,iBAA2B;IAC7B,qBACI,6LAAC;QAAI,WAAU;kBAAoG;;;;;;AAI3H;KANM;uCAQS"}},
    {"offset": {"line": 1172, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/components/map/MapBrand.tsx"],"sourcesContent":["const MapBrand: React.FC = () => {\n    return (\n        <div className=\"absolute top-6 left-6 z-10 flex items-center gap-4 bg-slate-900/80 backdrop-blur-md p-3 pr-6 rounded-2xl border border-slate-700/50 shadow-2xl select-none\">\n            <img\n                src=\"https://res.cloudinary.com/killtdj/image/upload/v1719635543/Kabupaten_Belitung_paacyj.png\"\n                alt=\"Logo\"\n                className=\"w-10 h-12 object-contain drop-shadow-md\"\n            />\n            <div className=\"flex flex-col justify-center\">\n                <h1 className=\"text-2xl font-black text-white leading-none tracking-tighter\">\n                    SIMTARU\n                </h1>\n                <span className=\"text-[10px] text-primary-400 font-bold uppercase tracking-widest mt-0.5 border-t border-slate-700 pt-0.5\">\n                    Kabupaten Belitung\n                </span>\n            </div>\n        </div>\n    );\n};\n\nexport default MapBrand;\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,WAAqB;IACvB,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBACG,KAAI;gBACJ,KAAI;gBACJ,WAAU;;;;;;0BAEd,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAG,WAAU;kCAA+D;;;;;;kCAG7E,6LAAC;wBAAK,WAAU;kCAA2G;;;;;;;;;;;;;;;;;;AAM3I;KAlBM;uCAoBS"}},
    {"offset": {"line": 1234, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/components/map/MapControls.tsx"],"sourcesContent":["import { Compass, Crosshair, Loader2, Locate, Minus, Plus } from 'lucide-react';\n\ninterface MapControlsProps {\n    onZoomIn: () => void;\n    onZoomOut: () => void;\n    onReset: () => void;\n    onLocate: () => void;\n    isLocating: boolean;\n}\n\nconst MapControls: React.FC<MapControlsProps> = ({\n    onZoomIn,\n    onZoomOut,\n    onReset,\n    onLocate,\n    isLocating,\n}) => {\n    return (\n        <div className=\"absolute bottom-6 right-6 flex flex-col gap-3 z-10\">\n            {/* Navigation Group */}\n            <div className=\"flex flex-col gap-2\">\n                <button\n                    onClick={onLocate}\n                    disabled={isLocating}\n                    className=\"p-3 bg-slate-800 text-primary-400 hover:text-primary-300 hover:bg-slate-700 disabled:opacity-70 disabled:cursor-wait rounded shadow-lg border border-slate-600 transition-colors group relative\"\n                    title=\"Locate Me\"\n                >\n                    {isLocating ? (\n                        <Loader2 size={20} className=\"animate-spin\" />\n                    ) : (\n                        <Locate size={20} />\n                    )}\n                    <span className=\"absolute right-full mr-2 bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\n                        {isLocating ? 'Locating...' : 'Locate Me'}\n                    </span>\n                </button>\n\n                <button\n                    onClick={onReset}\n                    className=\"p-3 bg-slate-800 text-slate-200 hover:text-white hover:bg-slate-700 rounded shadow-lg border border-slate-600 transition-colors\"\n                    title=\"Reset View\"\n                >\n                    <Crosshair size={20} />\n                </button>\n            </div>\n\n            {/* Zoom Group */}\n            <div className=\"flex flex-col rounded overflow-hidden shadow-lg border border-slate-600 bg-slate-800\">\n                <button\n                    onClick={onZoomIn}\n                    className=\"p-3 text-slate-200 hover:text-white hover:bg-slate-700 border-b border-slate-600 transition-colors\"\n                >\n                    <Plus size={20} />\n                </button>\n                <button\n                    onClick={onZoomOut}\n                    className=\"p-3 text-slate-200 hover:text-white hover:bg-slate-700 transition-colors\"\n                >\n                    <Minus size={20} />\n                </button>\n            </div>\n\n            {/* Decorative Compass */}\n            <div className=\"absolute -bottom-1 -right-1 pointer-events-none opacity-50\">\n                <Compass size={64} className=\"text-slate-600\" strokeWidth={1} />\n            </div>\n        </div>\n    );\n};\n\nexport default MapControls;\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAUA,MAAM,cAA0C,CAAC,EAC7C,QAAQ,EACR,SAAS,EACT,OAAO,EACP,QAAQ,EACR,UAAU,EACb;IACG,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,OAAM;;4BAEL,2BACG,6LAAC,+NAAO;gCAAC,MAAM;gCAAI,WAAU;;;;;yFAE7B,6LAAC,mNAAM;gCAAC,MAAM;;;;;;0CAElB,6LAAC;gCAAK,WAAU;0CACX,aAAa,gBAAgB;;;;;;;;;;;;kCAItC,6LAAC;wBACG,SAAS;wBACT,WAAU;wBACV,OAAM;kCAEN,cAAA,6LAAC,4NAAS;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAKzB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBACG,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC,6MAAI;4BAAC,MAAM;;;;;;;;;;;kCAEhB,6LAAC;wBACG,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC,gNAAK;4BAAC,MAAM;;;;;;;;;;;;;;;;;0BAKrB,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC,sNAAO;oBAAC,MAAM;oBAAI,WAAU;oBAAiB,aAAa;;;;;;;;;;;;;;;;;AAI3E;KA1DM;uCA4DS"}},
    {"offset": {"line": 1383, "column": 0}, "map": {"version":3,"sources":["file:///home/danudenny/Downloads/geogreen-mapper/src/components/MapViewer.tsx"],"sourcesContent":["import { fromLonLat } from 'ol/proj';\nimport { useRef } from 'react';\nimport { useFileImporter } from '../hooks/useFileImporter';\nimport { useLayerManager } from '../hooks/useLayerManager';\nimport { useMapInit } from '../hooks/useMapInit';\nimport { useMapInteractions } from '../hooks/useMapInteractions';\nimport { useUserLocation } from '../hooks/useUserLocation';\nimport { LayerGroup, SelectedFeature } from '../types';\nimport LegendPanel from './LegendPanel';\nimport MapAttribution from './map/MapAttribution';\nimport MapBrand from './map/MapBrand';\nimport MapControls from './map/MapControls';\n\ninterface MapViewerProps {\n    layerGroups: LayerGroup[];\n    onFeatureSelect: (feature: SelectedFeature | null) => void;\n    filesToLoad: File[];\n}\n\nconst MapViewer: React.FC<MapViewerProps> = ({\n    layerGroups,\n    onFeatureSelect,\n    filesToLoad,\n}) => {\n    const mapElement = useRef<HTMLDivElement>(null);\n\n    // 1. Initialize Map\n    const { mapRef, mapInstance } = useMapInit(mapElement);\n\n    // 2. Manage Layers\n    useLayerManager(mapInstance, layerGroups);\n\n    // 3. Handle Interactions (Selection)\n    useMapInteractions(mapInstance, onFeatureSelect);\n\n    // 4. Handle User Location\n    const { isLocating, handleLocate } = useUserLocation(mapInstance);\n\n    // 5. Handle File Imports\n    useFileImporter(mapInstance, filesToLoad);\n\n    // 6. Navigation Handlers\n    const handleZoomIn = () => {\n        const view = mapRef.current?.getView();\n        view?.animate({ zoom: (view.getZoom() || 0) + 1, duration: 250 });\n    };\n\n    const handleZoomOut = () => {\n        const view = mapRef.current?.getView();\n        view?.animate({ zoom: (view.getZoom() || 0) - 1, duration: 250 });\n    };\n\n    const handleReset = () => {\n        mapRef.current?.getView().animate({\n            center: fromLonLat([107.63, -2.85]),\n            zoom: 11,\n            duration: 500,\n        });\n    };\n\n    return (\n        <div className=\"relative w-full h-full bg-slate-950\">\n            <div ref={mapElement} className=\"w-full h-full\" />\n\n            <MapBrand />\n\n            <MapControls\n                onZoomIn={handleZoomIn}\n                onZoomOut={handleZoomOut}\n                onReset={handleReset}\n                onLocate={handleLocate}\n                isLocating={isLocating}\n            />\n\n            <LegendPanel />\n\n            <MapAttribution />\n        </div>\n    );\n};\n\nexport default MapViewer;\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;AAQA,MAAM,YAAsC,CAAC,EACzC,WAAW,EACX,eAAe,EACf,WAAW,EACd;;IACG,MAAM,aAAa,IAAA,uKAAM,EAAiB;IAE1C,oBAAoB;IACpB,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,2IAAU,EAAC;IAE3C,mBAAmB;IACnB,IAAA,qJAAe,EAAC,aAAa;IAE7B,qCAAqC;IACrC,IAAA,2JAAkB,EAAC,aAAa;IAEhC,0BAA0B;IAC1B,MAAM,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,IAAA,qJAAe,EAAC;IAErD,yBAAyB;IACzB,IAAA,qJAAe,EAAC,aAAa;IAE7B,yBAAyB;IACzB,MAAM,eAAe;QACjB,MAAM,OAAO,OAAO,OAAO,EAAE;QAC7B,MAAM,QAAQ;YAAE,MAAM,CAAC,KAAK,OAAO,MAAM,CAAC,IAAI;YAAG,UAAU;QAAI;IACnE;IAEA,MAAM,gBAAgB;QAClB,MAAM,OAAO,OAAO,OAAO,EAAE;QAC7B,MAAM,QAAQ;YAAE,MAAM,CAAC,KAAK,OAAO,MAAM,CAAC,IAAI;YAAG,UAAU;QAAI;IACnE;IAEA,MAAM,cAAc;QAChB,OAAO,OAAO,EAAE,UAAU,QAAQ;YAC9B,QAAQ,IAAA,2JAAU,EAAC;gBAAC;gBAAQ,CAAC;aAAK;YAClC,MAAM;YACN,UAAU;QACd;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,KAAK;gBAAY,WAAU;;;;;;0BAEhC,6LAAC,mJAAQ;;;;;0BAET,6LAAC,sJAAW;gBACR,UAAU;gBACV,WAAW;gBACX,SAAS;gBACT,UAAU;gBACV,YAAY;;;;;;0BAGhB,6LAAC,+IAAW;;;;;0BAEZ,6LAAC,yJAAc;;;;;;;;;;;AAG3B;GA5DM;;QAQ8B,2IAAU;QAG1C,qJAAe;QAGf,2JAAkB;QAGmB,qJAAe;QAGpD,qJAAe;;;KApBb;uCA8DS"}}]
}