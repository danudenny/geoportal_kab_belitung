module.exports=[15186,(a,b,c)=>{"use strict";c._=function(a){return a&&a.__esModule?a:{default:a}}},41997,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={BailoutToCSRError:function(){return g},isBailoutToCSRError:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f="BAILOUT_TO_CLIENT_SIDE_RENDERING";class g extends Error{constructor(a){super(`Bail out to client-side rendering: ${a}`),this.reason=a,this.digest=f}}function h(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===f}},32245,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"BailoutToCSR",{enumerable:!0,get:function(){return e}});let d=a.r(41997);function e({reason:a,children:b}){throw Object.defineProperty(new d.BailoutToCSRError(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}},7773,(a,b,c)=>{"use strict";function d(a){return a.split("/").map(a=>encodeURIComponent(a)).join("/")}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"encodeURIPath",{enumerable:!0,get:function(){return d}})},97458,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"PreloadChunks",{enumerable:!0,get:function(){return h}});let d=a.r(87924),e=a.r(35112),f=a.r(56704),g=a.r(7773);function h({moduleIds:a}){let b=f.workAsyncStorage.getStore();if(void 0===b)return null;let c=[];if(b.reactLoadableManifest&&a){let d=b.reactLoadableManifest;for(let b of a){if(!d[b])continue;let a=d[b].files;c.push(...a)}}return 0===c.length?null:(0,d.jsx)(d.Fragment,{children:c.map(a=>{let c=`${b.assetPrefix}/_next/${(0,g.encodeURIPath)(a)}`;return a.endsWith(".css")?(0,d.jsx)("link",{precedence:"dynamic",href:c,rel:"stylesheet",as:"style",nonce:b.nonce},a):((0,e.preload)(c,{as:"script",fetchPriority:"low",nonce:b.nonce}),null)})})}},69853,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return j}});let d=a.r(87924),e=a.r(72131),f=a.r(32245),g=a.r(97458);function h(a){return{default:a&&"default"in a?a.default:a}}let i={loader:()=>Promise.resolve(h(()=>null)),loading:null,ssr:!0},j=function(a){let b={...i,...a},c=(0,e.lazy)(()=>b.loader().then(h)),j=b.loading;function k(a){let h=j?(0,d.jsx)(j,{isLoading:!0,pastDelay:!0,error:null}):null,i=!b.ssr||!!b.loading,k=i?e.Suspense:e.Fragment,l=b.ssr?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.PreloadChunks,{moduleIds:b.modules}),(0,d.jsx)(c,{...a})]}):(0,d.jsx)(f.BailoutToCSR,{reason:"next/dynamic",children:(0,d.jsx)(c,{...a})});return(0,d.jsx)(k,{...i?{fallback:h}:{},children:l})}return k.displayName="LoadableComponent",k}},19721,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e}});let d=a.r(15186)._(a.r(69853));function e(a,b){let c={};"function"==typeof a&&(c.loader=a);let e={...c,...b};return(0,d.default)({...e,modules:e.loadableGenerated?.modules})}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40777,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},e=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,c.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:d=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,c.createElement)("svg",{ref:l,...f,width:b,height:b,stroke:a,strokeWidth:g?24*Number(d)/Number(b):d,className:e("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,c.createElement)(a,b)),...Array.isArray(i)?i:[i]])),h=(a,b)=>{let f=(0,c.forwardRef)(({className:f,...h},i)=>(0,c.createElement)(g,{ref:i,iconNode:b,className:e(`lucide-${d(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,f),...h}));return f.displayName=d(a),f},i=h("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),j=h("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),k=h("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),l=h("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),m=h("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),n=h("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),o=h("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),p=h("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),q=h("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),r=h("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),s=[{id:"group-basemap",name:"Base Maps",icon:"Map",layers:[{id:"base-arcgis-street",name:"ArcGIS Street",visible:!1,opacity:1,type:"tile",source:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}"},{id:"base-arcgis-sat",name:"ArcGIS Satellite",visible:!1,opacity:1,type:"tile",source:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"},{id:"base-google-street",name:"Google Street",visible:!1,opacity:1,type:"tile",source:"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}"},{id:"base-google-sat",name:"Google Satellite",visible:!1,opacity:1,type:"tile",source:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}"},{id:"base-carto-dark",name:"Dark Carto",visible:!0,opacity:1,type:"tile",source:"https://basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"},{id:"base-carto-light",name:"Light Carto",visible:!1,opacity:1,type:"tile",source:"https://basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png"}]},{id:"group-rtrw",name:"RTRW Belitung",icon:"Globe",layers:[{id:"rtrw-pola",name:"Pola Ruang",visible:!0,opacity:.6,type:"mvt",source:"/api/tiles/rtrw/{z}/{x}/{y}",color:"#10b981",geometryType:"Polygon"}]},{id:"group-badau",name:"RDTR Badau",icon:"Hexagon",layers:[{id:"badau-pola",name:"Pola Ruang",visible:!1,opacity:.7,type:"mvt",source:"/api/tiles/badau/{z}/{x}/{y}",color:"#f59e0b",geometryType:"Polygon"},{id:"badau-infra",name:"Infrastruktur",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/badau-infra/{z}/{x}/{y}",color:"#ef4444",geometryType:"Point",apiKey:"badau-infra"},{id:"badau-net",name:"Jaringan",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/badau-net/{z}/{x}/{y}",color:"#3b82f6",geometryType:"LineString",apiKey:"badau-net"}]},{id:"group-geopark",name:"RDTR Geopark",icon:"Mountain",layers:[{id:"geo-pola",name:"Pola Ruang",visible:!1,opacity:.7,type:"mvt",source:"/api/tiles/geopark/{z}/{x}/{y}",color:"#8b5cf6",geometryType:"Polygon",apiKey:"geopark"},{id:"geo-infra",name:"Infrastruktur",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/geopark-infra/{z}/{x}/{y}",color:"#ec4899",geometryType:"Point",apiKey:"geopark-infra"},{id:"geo-net",name:"Jaringan",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/geopark-net/{z}/{x}/{y}",color:"#06b6d4",geometryType:"LineString",apiKey:"geopark-net"}]},{id:"group-tanjung",name:"RDTR Tanjung Kelayang",icon:"Anchor",layers:[{id:"tj-pola",name:"Pola Ruang",visible:!1,opacity:.7,type:"mvt",source:"/api/tiles/tanjung/{z}/{x}/{y}",color:"#14b8a6",geometryType:"Polygon",apiKey:"tanjung"},{id:"tj-infra",name:"Infrastruktur",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/tanjung-infra/{z}/{x}/{y}",color:"#f97316",geometryType:"Point",apiKey:"tanjung-infra"},{id:"tj-net",name:"Jaringan",visible:!1,opacity:1,type:"mvt",source:"/api/tiles/tanjung-net/{z}/{x}/{y}",color:"#6366f1",geometryType:"LineString",apiKey:"tanjung-net"}]}],t={namobj:"Nama Objek",jnsrpr:"Jenis Rencana Pola Ruang",wadmkc:"Kecamatan",wadmkd:"Desa / Kelurahan",kkop_1:"Kawasan Keselamatan Operasi Penerbangan",kp2b_2:"Kawasan Pertanian Pangan Berkelanjutan",lp2b_2:"Lahan Pertanian Pangan Berkelanjutan",krb_03:"Kawasan Rawan Bencana",tod_04:"Kawasan Berorientasi Transit",teb_05:"Tempat Evakuasi Bencana",puslit:"Pusat Penelitian",cagbud:"Kawasan Cagar Budaya",resair:"Kawasan Resapan Air",ksmpdn:"Kawasan Sempadan",hankam:"Kawasan Pertahanan dan Keamanan",kkarst:"Kawasan Karst",ptbgmb:"Kawasan Pertambangan Mineral dan Batubara",mgrsat:"Kawasan Migrasi Satwa",rdbumi:"Ruang Dalam Bumi",tpz_00:"Teknik Pengaturan Zonasi",remark:"Catatan",luasha:"Luas Zona"},u=({feature:a,onClose:d,onZoom:e,onExport:f})=>{let[g,h]=(0,c.useState)(null),[s,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null);if((0,c.useEffect)(()=>{if(!a)return void h(null);let b=a.id||a.properties?.gid;b&&!("string"==typeof b&&b.includes("."))?(async()=>{u(!0);try{let c=a.layerId||"rtrw",d=await fetch(`/api/features/${c}/${b}`);if(d.ok){let a=await d.json();h(a)}else h(a.properties)}catch(b){console.error("Failed to fetch feature details",b),h(a.properties)}finally{u(!1)}})():h(a.properties)},[a]),!a)return null;let x=g||a.properties||{},y=x.namobj||x.name||x.NAMOBJ||`Feature #${a.id}`;return(0,b.jsxs)("div",{className:"absolute right-4 top-4 bottom-4 w-96 bg-slate-900/95 backdrop-blur-xl border border-slate-700/50 shadow-2xl z-30 flex flex-col rounded-xl overflow-hidden animate-in slide-in-from-right-4 duration-300",children:[(0,b.jsxs)("div",{className:"px-5 py-4 border-b border-slate-700 bg-gradient-to-r from-slate-800/50 to-slate-900/50 flex justify-between items-start shrink-0",children:[(0,b.jsxs)("div",{className:"overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-primary-400 mb-1.5",children:[(0,b.jsx)(q,{size:14}),(0,b.jsx)("span",{className:"text-[10px] font-bold tracking-widest uppercase text-primary-400/80",children:"Feature Information"})]}),(0,b.jsx)("h2",{className:"text-lg font-bold text-white font-mono truncate leading-tight",title:String(y),children:y}),(0,b.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,b.jsx)("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-800 px-2 py-0.5 rounded border border-slate-700 uppercase",children:a.geometryType||"Geometry"}),s&&(0,b.jsxs)("span",{className:"text-[10px] flex items-center gap-1 text-yellow-500",children:[(0,b.jsx)(p,{size:10,className:"animate-spin"})," ","Syncing..."]})]})]}),(0,b.jsx)("button",{onClick:d,className:"p-1.5 hover:bg-slate-700 rounded-md text-slate-400 hover:text-white transition-all active:scale-95",children:(0,b.jsx)(r,{size:18})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent relative",children:[s&&!g&&(0,b.jsxs)("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm flex flex-col items-center justify-center z-10 text-slate-400 gap-3",children:[(0,b.jsx)(p,{className:"animate-spin text-primary-500",size:32}),(0,b.jsx)("span",{className:"text-xs",children:"Fetching detailed attributes..."})]}),(0,b.jsx)("div",{className:"divide-y divide-slate-800/50",children:Object.entries(x).map(([a,c])=>{let d;if(["geom","geometry","the_geom","bbox"].includes(a.toLowerCase()))return null;let e=t[a.toLowerCase()]||a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),f="object"==typeof c?JSON.stringify(c):String(c);return(0,b.jsxs)("div",{className:"group flex flex-col hover:bg-slate-800/30 transition-colors px-5 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 uppercase tracking-wide",children:[(d=a.toLowerCase()).includes("date")||d.includes("time")?(0,b.jsx)(j,{size:14,className:"text-blue-400"}):d.includes("id")||d.includes("code")||d.includes("gid")?(0,b.jsx)(o,{size:14,className:"text-orange-400"}):d.includes("name")||d.includes("obj")?(0,b.jsx)(n,{size:14,className:"text-emerald-400"}):d.includes("stat")||d.includes("val")||d.includes("luas")?(0,b.jsx)(i,{size:14,className:"text-purple-400"}):(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-500"}),e]}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(f),w(a),setTimeout(()=>w(null),2e3)},className:"opacity-0 group-hover:opacity-100 transition-opacity text-slate-500 hover:text-primary-400 p-1",title:"Copy value",children:v===a?(0,b.jsx)(k,{size:12,className:"text-emerald-500"}):(0,b.jsx)(l,{size:12})})]}),(0,b.jsx)("div",{className:"pl-6 text-sm text-slate-200 font-mono break-words leading-relaxed",children:null==c||""===c?(0,b.jsx)("span",{className:"text-slate-600 italic text-xs",children:"Empty"}):"string"==typeof c&&(c.startsWith("http")||c.startsWith("www"))?(0,b.jsxs)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300 hover:underline flex items-center gap-1 break-all",children:[c," ",(0,b.jsx)(m,{size:10})]}):"string"==typeof c&&!isNaN(Date.parse(c))&&c.length>10&&(a.toLowerCase().includes("date")||a.toLowerCase().includes("time"))?new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"object"==typeof c?(0,b.jsx)("pre",{className:"text-[10px] bg-slate-950 p-2 rounded border border-slate-800 overflow-x-auto",children:JSON.stringify(c,null,2)}):String(c)})]},a)})}),!s&&0===Object.keys(x).length&&(0,b.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 p-8 text-center",children:[(0,b.jsx)(n,{size:32,className:"mb-2 opacity-50"}),(0,b.jsx)("p",{className:"text-sm",children:"No properties found for this layer."})]})]}),(0,b.jsxs)("div",{className:"p-4 border-t border-slate-700 bg-slate-900/90 shrink-0 grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{onClick:()=>e?.(a),className:"flex items-center justify-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 hover:text-white text-slate-300 text-xs font-bold rounded-lg border border-slate-600 transition-all active:scale-95",children:[(0,b.jsx)(q,{size:14})," ZOOM TO"]}),(0,b.jsxs)("button",{onClick:()=>f?.(a),className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white text-xs font-bold rounded-lg shadow-lg shadow-primary-900/20 hover:shadow-primary-900/40 transition-all active:scale-95 border border-transparent hover:border-primary-400",children:[(0,b.jsx)(m,{size:14})," EXPORT JSON"]})]})]})},v=h("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),w=h("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),x=h("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),y=h("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),z=h("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),A=h("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),B=h("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),C=h("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),D=({groups:a,toggleLayer:d,updateOpacity:e})=>{let[f,g]=(0,c.useState)({"group-basemap":!1,"group-rtrw":!0});return(0,b.jsxs)("div",{className:"h-full w-80 bg-slate-900/95 backdrop-blur-sm border-r border-slate-700 flex flex-col animate-in slide-in-from-left duration-300",children:[(0,b.jsxs)("div",{className:"p-5 border-b border-slate-700 bg-slate-900",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-primary-400 tracking-tight flex items-center gap-2",children:[(0,b.jsx)(C,{size:20}),"DATA LAYERS"]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Manage visibility and opacity"})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:a.map(a=>{let c="group-basemap"===a.id;return(0,b.jsxs)("div",{className:"border border-slate-700 rounded-lg overflow-hidden bg-slate-800/50",children:[(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void g(a=>({...a,[b]:!a[b]}))},className:"w-full flex items-center justify-between p-3 bg-slate-800 hover:bg-slate-750 transition-colors",children:[(0,b.jsx)("span",{className:"font-semibold text-sm text-slate-200",children:a.name}),f[a.id]?(0,b.jsx)(w,{size:16,className:"text-slate-400"}):(0,b.jsx)(x,{size:16,className:"text-slate-400"})]}),f[a.id]&&(0,b.jsx)("div",{className:"p-3 space-y-3 bg-slate-900/30",children:a.layers.map(f=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>d(a.id,f.id),className:`transition-colors ${f.visible?"text-primary-500":"text-slate-600"}`,title:c?"Select Base Map":"Toggle Visibility",children:c?f.visible?(0,b.jsx)(v,{size:18}):(0,b.jsx)(y,{size:18}):f.visible?(0,b.jsx)(A,{size:18}):(0,b.jsx)(B,{size:18})}),(0,b.jsx)("span",{className:`text-sm ${f.visible?"text-slate-200":"text-slate-500"}`,children:f.name})]}),"vector"===f.type&&f.color&&(0,b.jsx)("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:f.color}}),f.apiKey&&(0,b.jsx)("a",{href:`/api/export/${f.apiKey}`,download:!0,className:"p-1.5 text-slate-500 hover:text-primary-400 hover:bg-slate-800 rounded transition-colors ml-1",title:"Download GeoJSON",children:(0,b.jsx)(z,{size:16})})]}),f.visible&&(0,b.jsxs)("div",{className:"flex items-center gap-2 pl-8 pr-1",children:[(0,b.jsx)("span",{className:"text-[10px] text-slate-500 uppercase",children:"Op"}),(0,b.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:f.opacity,onChange:b=>e(a.id,f.id,parseFloat(b.target.value)),className:"w-full h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-primary-500 hover:accent-primary-400"})]})]},f.id))})]},a.id)})})]})},E=h("bring-to-front",[["rect",{x:"8",y:"8",width:"8",height:"8",rx:"2",key:"yj20xf"}],["path",{d:"M4 10a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2",key:"1ltk23"}],["path",{d:"M14 20a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2",key:"1q24h9"}]]),F=h("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),G=h("grid-2x2-plus",[["path",{d:"M12 3v17a1 1 0 0 1-1 1H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1H3",key:"11za1p"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 22v-6",key:"qhmiwi"}]]),H=h("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),I=h("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),J=({activeMode:a,setActiveMode:c})=>{let d=({mode:d,icon:e,tooltip:f})=>(0,b.jsxs)("button",{onClick:()=>{c(a===d?"none":d)},className:`
        relative group flex items-center justify-center w-16 h-16 transition-all duration-200
        ${a===d?"bg-slate-800 text-primary-400 border-l-4 border-primary-500":"text-slate-400 hover:text-white hover:bg-slate-800"}
      `,children:[(0,b.jsx)(e,{size:24,strokeWidth:1.5}),(0,b.jsx)("div",{className:"absolute left-16 ml-2 px-2 py-1 bg-slate-900 text-primary-200 text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity border border-slate-700 whitespace-nowrap z-50 shadow-lg font-sans",children:f})]});return(0,b.jsxs)("div",{className:"w-16 h-full bg-slate-900 border-r border-slate-800 flex flex-col items-center z-20 shadow-xl relative",children:[(0,b.jsx)("div",{className:"p-4 mb-4 text-primary-500",children:(0,b.jsx)(F,{size:28})}),(0,b.jsxs)("nav",{className:"flex-1 flex flex-col w-full gap-2",children:[(0,b.jsx)(d,{mode:"layers",icon:E,tooltip:"Layer Manager"}),(0,b.jsx)(d,{mode:"upload",icon:G,tooltip:"Import Data"}),(0,b.jsx)(d,{mode:"settings",icon:I,tooltip:"Map Settings"})]}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)("button",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-slate-800 text-slate-500 hover:text-primary-400 transition-colors",children:(0,b.jsx)(H,{size:20})})})]})},K=h("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),L=h("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),M=h("file-type",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M11 18h2",key:"12mj7e"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M9 13v-.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v.5",key:"qbrxap"}]]),N=h("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),O=({onUpload:a,close:d})=>{let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(null),i=(0,c.useCallback)(a=>{a.preventDefault(),f(!0)},[]),j=(0,c.useCallback)(a=>{a.preventDefault(),f(!1)},[]),k=(0,c.useCallback)(a=>{a.preventDefault(),f(!1),a.dataTransfer.files&&a.dataTransfer.files.length>0&&l(a.dataTransfer.files)},[]),l=b=>{h({type:"success",message:`Processing ${b.length} file(s)...`}),setTimeout(()=>{a(b),h(null)},1500)};return(0,b.jsxs)("div",{className:"h-full w-80 bg-slate-900/95 backdrop-blur-sm border-r border-slate-700 flex flex-col p-6 animate-in slide-in-from-left duration-300 relative",children:[(0,b.jsx)("button",{onClick:d,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:(0,b.jsx)(r,{size:20})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("h2",{className:"text-lg font-bold text-primary-400 flex items-center gap-2",children:[(0,b.jsx)(N,{size:20}),"IMPORT DATA"]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"Supported formats: .geojson, .kml, .shp (zip), .gdb (zip)"})]}),(0,b.jsxs)("div",{onDragOver:i,onDragLeave:j,onDrop:k,className:`
          border-2 border-dashed rounded-xl p-8 flex flex-col items-center justify-center text-center transition-all cursor-pointer
          ${e?"border-primary-500 bg-primary-900/20":"border-slate-600 bg-slate-800/30 hover:border-slate-400 hover:bg-slate-800/50"}
        `,children:[(0,b.jsx)("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",accept:".geojson,.json,.kml,.zip,.gdb",onChange:a=>{a.target.files&&a.target.files.length>0&&l(a.target.files)}}),(0,b.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center mb-4 text-primary-400",children:(0,b.jsx)(M,{size:24})}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-300",children:"Click to upload or drag & drop"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Max file size: 50MB"})]})]}),g&&(0,b.jsxs)("div",{className:`mt-6 p-4 rounded-lg flex items-start gap-3 ${"success"===g.type?"bg-emerald-900/30 border border-emerald-800":"bg-red-900/30 border border-red-800"}`,children:["success"===g.type?(0,b.jsx)(L,{size:18,className:"text-emerald-500 mt-0.5"}):(0,b.jsx)(K,{size:18,className:"text-red-500 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:`text-sm font-medium ${"success"===g.type?"text-emerald-400":"text-red-400"}`,children:"success"===g.type?"Success":"Error"}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:g.message})]})]}),(0,b.jsxs)("div",{className:"mt-auto pt-6 border-t border-slate-800",children:[(0,b.jsx)("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Recently Imported"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded bg-slate-800/50 opacity-60",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),(0,b.jsx)("span",{className:"text-xs text-slate-400 font-mono",children:"parcels_v2.geojson"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded bg-slate-800/50 opacity-60",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,b.jsx)("span",{className:"text-xs text-slate-400 font-mono",children:"study_area.kml"})]})]})]})]})},P=(0,a.i(19721).default)(async()=>{},{loadableGenerated:{modules:[97447]},ssr:!1,loading:()=>(0,b.jsx)("div",{className:"w-full h-full bg-slate-900 flex items-center justify-center text-slate-500",children:"Loading Map..."})});a.s(["default",0,()=>{let[a,d]=(0,c.useState)("none"),[e,f]=(0,c.useState)(s),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{l(!0)},[]);let m=async a=>{j(a),d("none")};return k?(0,b.jsxs)("div",{className:"flex w-full h-screen bg-slate-950 text-slate-100 overflow-hidden font-sans",children:[(0,b.jsx)(J,{activeMode:a,setActiveMode:d}),(0,b.jsxs)("div",{className:`
        relative h-full transition-all duration-300 ease-in-out shadow-2xl z-20 flex
        ${"none"!==a?"w-80 opacity-100 border-r border-slate-800":"w-0 opacity-0 overflow-hidden border-none"}
      `,children:["layers"===a&&(0,b.jsx)(D,{groups:e,toggleLayer:(a,b)=>{f(c=>c.map(c=>c.id!==a?c:"group-basemap"===c.id?{...c,layers:c.layers.map(a=>({...a,visible:a.id===b}))}:{...c,layers:c.layers.map(a=>a.id===b?{...a,visible:!a.visible}:a)}))},updateOpacity:(a,b,c)=>{f(d=>d.map(d=>d.id!==a?d:{...d,layers:d.layers.map(a=>a.id===b?{...a,opacity:c}:a)}))}}),"upload"===a&&(0,b.jsx)(O,{onUpload:m,close:()=>d("none")}),"settings"===a&&(0,b.jsxs)("div",{className:"p-6 w-80 bg-slate-900 h-full",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-primary-400 mb-4",children:"SETTINGS"}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:[(0,b.jsx)("p",{className:"mb-2",children:"Unit System: Metric"}),(0,b.jsx)("p",{className:"mb-2",children:"Projection: EPSG:3857"}),(0,b.jsx)("p",{children:"Theme: GeoGreen Dark"})]})]})]}),(0,b.jsxs)("div",{className:"flex-1 relative z-0",children:[(0,b.jsx)(P,{layerGroups:e,onFeatureSelect:a=>{h(a)},filesToLoad:i}),g&&(0,b.jsx)(u,{feature:g,onClose:()=>h(null)})]})]}):null}],40777)}];

//# sourceMappingURL=_35c8afad._.js.map